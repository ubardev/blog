# Toss Payments κ²°μ  μ—°λ™ κ°€μ΄λ“

μ΄ λ¬Έμ„λ” Toss Payments κ²°μ  μ‹μ¤ν…μ„ μ—°λ™ν•κΈ° μ„ν• μ„¤μ • κ°€μ΄λ“μ…λ‹λ‹¤.

## π“‹ λ©μ°¨

1. [API ν‚¤ λ°κΈ‰ λ°›κΈ°](#api-ν‚¤-λ°κΈ‰-λ°›κΈ°)
2. [ν™κ²½ λ³€μ μ„¤μ •](#ν™κ²½-λ³€μ-μ„¤μ •)
3. [SDK μ„¤μΉ](#sdk-μ„¤μΉ)
4. [μ‚¬μ© λ°©λ²•](#μ‚¬μ©-λ°©λ²•)
5. [ν…μ¤νΈ κ²°μ ](#ν…μ¤νΈ-κ²°μ )

## π”‘ API ν‚¤ λ°κΈ‰ λ°›κΈ°

### 1. ν† μ¤νμ΄λ¨ΌμΈ  κ°λ°μμ„Όν„° μ ‘μ†

1. [ν† μ¤νμ΄λ¨ΌμΈ  κ°λ°μμ„Όν„°](https://developers.tosspayments.com)μ— μ ‘μ†ν•©λ‹λ‹¤.
2. νμ›κ°€μ… λλ” λ΅κ·ΈμΈμ„ μ§„ν–‰ν•©λ‹λ‹¤.

### 2. ν…μ¤νΈ ν‚¤ λ°κΈ‰ (κ°λ° ν™κ²½)

**νμ›κ°€μ… μ „:**
- λ¬Έμ„μ— μ κ³µλ ν…μ¤νΈ ν‚¤λ¥Ό μ‚¬μ©ν•  μ μμµλ‹λ‹¤.
- μ‹¤μ  κ²°μ λ” λ°μƒν•μ§€ μ•μµλ‹λ‹¤.

**νμ›κ°€μ… ν›„:**
1. κ°λ°μμ„Όν„°μ— λ΅κ·ΈμΈν•©λ‹λ‹¤.
2. μΆμΈ΅ λ©”λ‰΄μ—μ„ **"API ν‚¤"** λ©”λ‰΄λ¥Ό ν΄λ¦­ν•©λ‹λ‹¤.
3. **"κ²°μ μ„μ ― μ—°λ™ ν‚¤"** λλ” **"API κ°λ³„ μ—°λ™ ν‚¤"**λ¥Ό ν™•μΈν•©λ‹λ‹¤.
4. ν…μ¤νΈ ν™κ²½μ ν‚¤λ¥Ό λ³µμ‚¬ν•©λ‹λ‹¤.

### 3. λΌμ΄λΈ ν‚¤ λ°κΈ‰ (μ΄μ ν™κ²½)

1. ν† μ¤νμ΄λ¨ΌμΈ μ™€ **μ „μκ²°μ  κ³„μ•½**μ„ μ™„λ£ν•©λ‹λ‹¤.
2. κ°λ°μμ„Όν„°μ **"API ν‚¤"** λ©”λ‰΄μ—μ„:
   - κ³„μ•½λ **μƒμ μ•„μ΄λ””(MID)**λ¥Ό μ„ νƒν•©λ‹λ‹¤.
   - **ν΄λΌμ΄μ–ΈνΈ ν‚¤(Client Key)**μ™€ **μ‹ν¬λ¦Ώ ν‚¤(Secret Key)**λ¥Ό ν™•μΈν•©λ‹λ‹¤.

### 4. ν‚¤ μΆ…λ¥ μ„¤λ…

| ν‚¤ μΆ…λ¥ | μ©λ„ | μ‚¬μ© μ„μΉ |
|---------|------|-----------|
| **κ²°μ μ„μ ― μ—°λ™ ν‚¤ (WidgetClientKey)** | κ²°μ μ„μ ― μ—°λ™ μ‹ μ‚¬μ© | ν΄λΌμ΄μ–ΈνΈ (λΈλΌμ°μ €) |
| **API κ°λ³„ μ—°λ™ ν‚¤ (ClientKey)** | κ²°μ μ°½, λΈλλ“νμ΄, μλ™κ²°μ  μ—°λ™ μ‹ μ‚¬μ© | ν΄λΌμ΄μ–ΈνΈ (λΈλΌμ°μ €) |
| **μ‹ν¬λ¦Ώ ν‚¤ (SecretKey)** | μ„λ²„μ—μ„ κ²°μ  μΉμΈ API νΈμ¶ μ‹ μ‚¬μ© | μ„λ²„ (ν™κ²½ λ³€μ) |

β οΈ **μ¤‘μ”**: μ‹ν¬λ¦Ώ ν‚¤λ” μ λ€ ν΄λΌμ΄μ–ΈνΈμ— λ…Έμ¶λλ©΄ μ• λ©λ‹λ‹¤!

## π”§ ν™κ²½ λ³€μ μ„¤μ •

### 1. `.env.local` νμΌ μƒμ„±

ν”„λ΅μ νΈ λ£¨νΈ λ””λ ‰ν† λ¦¬μ— `.env.local` νμΌμ„ μƒμ„±ν•©λ‹λ‹¤.

```bash
# .env.local
```

### 2. ν™κ²½ λ³€μ μ¶”κ°€

`.env.local` νμΌμ— λ‹¤μ λ³€μλ“¤μ„ μ¶”κ°€ν•©λ‹λ‹¤:

```env
# Toss Payments ν΄λΌμ΄μ–ΈνΈ ν‚¤ (κ²°μ μ„μ ― μ—°λ™ ν‚¤ λλ” API κ°λ³„ μ—°λ™ ν‚¤)
# λΈλΌμ°μ €μ—μ„ μ‚¬μ©λλ―€λ΅ NEXT_PUBLIC_ μ ‘λ‘μ‚¬κ°€ ν•„μ”ν•©λ‹λ‹¤.
NEXT_PUBLIC_TOSS_PAYMENTS_CLIENT_KEY=test_ck_xxxxxxxxxxxxx

# Toss Payments μ‹ν¬λ¦Ώ ν‚¤ (μ„λ²„μ—μ„λ§ μ‚¬μ©)
# μ λ€ ν΄λΌμ΄μ–ΈνΈμ— λ…Έμ¶λμ§€ μ•λ„λ΅ μ£Όμν•μ„Έμ”!
TOSS_PAYMENTS_SECRET_KEY=test_sk_xxxxxxxxxxxxx
```

### 3. ν™κ²½ λ³€μ μ„¤λ…

| λ³€μλ… | μ„¤λ… | ν•„μ | μ„μΉ |
|--------|------|------|------|
| `NEXT_PAYMENTS_CLIENT_KEY` | κ²°μ μ„μ ― μ΄κΈ°ν™”μ— μ‚¬μ©λλ” ν΄λΌμ΄μ–ΈνΈ ν‚¤ | β… | ν΄λΌμ΄μ–ΈνΈ/μ„λ²„ |
| `TOSS_PAYMENTS_SECRET_KEY` | κ²°μ  μΉμΈ API νΈμ¶μ— μ‚¬μ©λλ” μ‹ν¬λ¦Ώ ν‚¤ | β… | μ„λ²„λ§ |

### 4. Gitμ— μ»¤λ°‹ν•μ§€ μ•κΈ°

`.env.local` νμΌμ€ `.gitignore`μ— ν¬ν•¨λμ–΄ μμ–΄μ•Ό ν•©λ‹λ‹¤. 
λ―Όκ°ν• μ •λ³΄μ΄λ―€λ΅ μ λ€ Gitμ— μ»¤λ°‹ν•μ§€ λ§μ„Έμ”!

```gitignore
# .gitignore
.env.local
.env*.local
```

## π“¦ SDK μ„¤μΉ

ν”„λ΅μ νΈμ— Toss Payments SDKλ¥Ό μ„¤μΉν•©λ‹λ‹¤:

```bash
npm install @tosspayments/tosspayments-sdk --save
```

λλ”

```bash
yarn add @tosspayments/tosspayments-sdk
```

## π€ μ‚¬μ© λ°©λ²•

### 1. κ²°μ  νμ΄μ§€ μ ‘μ†

λΈλΌμ°μ €μ—μ„ λ‹¤μ URLλ΅ μ ‘μ†ν•©λ‹λ‹¤:

```
http://localhost:3000/payment
```

### 2. κ²°μ  ν”„λ΅μ„Έμ¤

1. **κ²°μ  μλ‹¨ μ„ νƒ**: κ²°μ μ„μ ―μ—μ„ μ›ν•λ” κ²°μ  μλ‹¨μ„ μ„ νƒν•©λ‹λ‹¤.
2. **μ•½κ΄€ λ™μ**: ν•„μ μ•½κ΄€μ— λ™μν•©λ‹λ‹¤.
3. **κ²°μ ν•κΈ°**: "κ²°μ ν•κΈ°" λ²„νΌμ„ ν΄λ¦­ν•©λ‹λ‹¤.
4. **κ²°μ  μ™„λ£**: κ²°μ κ°€ μ™„λ£λλ©΄ μ„±κ³µ νμ΄μ§€λ΅ μ΄λ™ν•©λ‹λ‹¤.

### 3. μ½”λ“μ—μ„ μ‚¬μ©ν•κΈ°

#### κ²°μ μ„μ ― μ»΄ν¬λ„νΈ μ‚¬μ©

```tsx
import { PaymentWidget } from "@/components/payment-widget"

export default function CheckoutPage() {
  return (
    <PaymentWidget
      amount={50000}
      orderName="ν† μ¤ ν‹°μ…”μΈ  μ™Έ 2κ±΄"
      customerEmail="customer@example.com"
      customerName="ν™κΈΈλ™"
      customerMobilePhone="01012345678"
    />
  )
}
```

## π§ ν…μ¤νΈ κ²°μ 

### ν…μ¤νΈ μΉ΄λ“ μ •λ³΄

ν…μ¤νΈ ν™κ²½μ—μ„λ” μ•„λ μΉ΄λ“ μ •λ³΄λ¥Ό μ‚¬μ©ν•  μ μμµλ‹λ‹¤:

| ν•­λ© | κ°’ |
|-----|-----|
| μΉ΄λ“λ²νΈ | `1234-5678-9012-3456` (μ„μμ 16μλ¦¬ μ«μ) |
| μ ν¨κΈ°κ°„ | λ―Έλμ λ‚ μ§ (μ: `12/25`) |
| CVC | μ„μμ 3μλ¦¬ μ«μ (μ: `123`) |
| λΉ„λ°€λ²νΈ | `00` (κ°„νΈκ²°μ ) λλ” μΉ΄λ“ λΉ„λ°€λ²νΈ μ• 2μλ¦¬ |

β οΈ **μ£Όμ**: ν…μ¤νΈ ν™κ²½μ—μ„λ” μ‹¤μ  κ²°μ κ°€ λ°μƒν•μ§€ μ•μµλ‹λ‹¤.

### ν…μ¤νΈ κ³„μ • (κ°„νΈκ²°μ )

μΌλ¶€ κ°„νΈκ²°μ λ” ν…μ¤νΈ κ³„μ •μ΄ ν•„μ”ν•©λ‹λ‹¤:

- **ν† μ¤νμ΄**: ν…μ¤νΈ κ³„μ • μ‚¬μ© κ°€λ¥
- **λ„¤μ΄λ²„νμ΄**: ν…μ¤νΈ κ³„μ • μ‚¬μ© κ°€λ¥
- **μΉ΄μΉ΄μ¤νμ΄**: κ³„μ•½ ν›„ MID ν…μ¤νΈ ν‚¤ ν•„μ”

## π“ μ°Έκ³  μλ£

- [ν† μ¤νμ΄λ¨ΌμΈ  κ°λ°μμ„Όν„°](https://developers.tosspayments.com)
- [ν† μ¤νμ΄λ¨ΌμΈ  API λ¬Έμ„](https://docs.tosspayments.com)
- [κ²°μ μ„μ ― μ—°λ™ κ°€μ΄λ“](https://docs.tosspayments.com/guides/v2/widget/integration)
- [μ—λ¬ μ½”λ“ μ°Έκ³ ](https://docs.tosspayments.com/reference/error-codes)

## β οΈ μ£Όμμ‚¬ν•­

1. **μ‹ν¬λ¦Ώ ν‚¤ λ³΄μ•**: μ‹ν¬λ¦Ώ ν‚¤λ” μ λ€ ν΄λΌμ΄μ–ΈνΈ μ½”λ“μ— ν¬ν•¨ν•μ§€ λ§μ„Έμ”.
2. **ν™κ²½ λ³€μ**: ν”„λ΅λ•μ… ν™κ²½μ—μ„λ” λ°λ“μ‹ λΌμ΄λΈ ν‚¤λ¥Ό μ‚¬μ©ν•μ„Έμ”.
3. **κ²°μ  μΉμΈ**: `successUrl`λ΅ λ¦¬λ‹¤μ΄λ ‰νΈλ ν›„ λ°λ“μ‹ μ„λ²„μ—μ„ κ²°μ  μΉμΈ APIλ¥Ό νΈμ¶ν•΄μ•Ό ν•©λ‹λ‹¤.
4. **κΈμ•΅ κ²€μ¦**: κ²°μ  μΉμΈ μ‹ ν΄λΌμ΄μ–ΈνΈμ—μ„ μ „λ‹¬λ κΈμ•΅κ³Ό μ„λ²„μ— μ €μ¥λ κΈμ•΅μ„ λ°λ“μ‹ λΉ„κµν•μ„Έμ”.

## π› λ¬Έμ  ν•΄κ²°

### "ν΄λΌμ΄μ–ΈνΈ ν‚¤κ°€ μ„¤μ •λμ§€ μ•μ•μµλ‹λ‹¤" μ¤λ¥

- `.env.local` νμΌμ΄ ν”„λ΅μ νΈ λ£¨νΈμ— μλ”μ§€ ν™•μΈν•μ„Έμ”.
- ν™κ²½ λ³€μ μ΄λ¦„μ΄ μ •ν™•ν•μ§€ ν™•μΈν•μ„Έμ” (`NEXT_PUBLIC_TOSS_PAYMENTS_CLIENT_KEY`).
- κ°λ° μ„λ²„λ¥Ό μ¬μ‹μ‘ν•μ„Έμ” (`npm run dev`).

### "κ²°μ  μΉμΈμ— μ‹¤ν¨ν–μµλ‹λ‹¤" μ¤λ¥

- μ‹ν¬λ¦Ώ ν‚¤κ°€ μ¬λ°”λ¥΄κ² μ„¤μ •λμ—λ”μ§€ ν™•μΈν•μ„Έμ”.
- μ„λ²„ λ΅κ·Έλ¥Ό ν™•μΈν•μ—¬ μ—λ¬ λ©”μ‹μ§€λ¥Ό ν™•μΈν•μ„Έμ”.
- [ν† μ¤νμ΄λ¨ΌμΈ  μ—λ¬ μ½”λ“ λ¬Έμ„](https://docs.tosspayments.com/reference/error-codes)λ¥Ό μ°Έκ³ ν•μ„Έμ”.

### κ²°μ μ„μ ―μ΄ λ λ”λ§λμ§€ μ•μ

- λΈλΌμ°μ € μ½μ†”μ—μ„ JavaScript μ¤λ¥λ¥Ό ν™•μΈν•μ„Έμ”.
- ν΄λΌμ΄μ–ΈνΈ ν‚¤κ°€ μ¬λ°”λ¥Έμ§€ ν™•μΈν•μ„Έμ”.
- λ„¤νΈμ›ν¬ νƒ­μ—μ„ SDK λ΅λ”©μ΄ μ„±κ³µν–λ”μ§€ ν™•μΈν•μ„Έμ”.

---

**λ§μ§€λ§‰ μ—…λ°μ΄νΈ**: 2024λ…„
